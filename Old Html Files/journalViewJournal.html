<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Journal</title>
    <link rel="stylesheet" href="styles/layoutwithnavbar.css">
    <link rel="stylesheet" href="styles/stylevariables.css">
    <link rel="stylesheet" href="styles/journalViewJournal.css">
    <link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico">
</head>
<body>

    <!-- Back Wave -->
    <!-- Needs to be here to create layered effect with nav bar -->
	<div class="waves-container">
        <img src="./images/waveBack.svg" alt="Back Wave" class="wave back-wave">
	</div>

    <!-- Navigation Bar -->
    <div class="navigation-bar">

        <a href="index.php" id="navigation-bar-sign-out-icon" data-tooltip="Sign Out">
            <img src="./images/icons/signOutIcon.svg" alt="Sign Out Icon" class="navigation-bar-sign-out-icon" title="Sign Out">
        </a>
        

        <!-- Profile Picture Section -->
        <div class="navigation-bar-profile-picture-section">
            <img src="./images/profilePictures/Deer.webp" alt="Profile Picture" class="navigation-bar-profile-picture">
        </div>
    
        <!-- Profile Name Section -->
        <div class="navigation-bar-user-name-section">
            <p class="navigation-bar-user-first-name" id="userFirstName">Jason</p>
        </div>

        <!-- Links Background -->
        <div class="navigation-bar-links-container">
            <!-- Home Link -->
            <a href="homepage.html" class="navigation-bar-link">
                <img src="./images/icons/homeIcon.svg" alt="Home Icon" class="navigation-bar-link-icon">
                <span class="navigation-bar-link-text">Home</span>
            </a>
            <!-- Journal Link -->
            <a href="journalHome.php" class="navigation-bar-link">
                <img src="./images/icons/journalIcon.svg" alt="Journal Icon" class="navigation-bar-link-icon">
                <span class="navigation-bar-link-text-selected">Journal</span>
            </a>
            <!-- Strategies Link -->
            <a href="strategiesHome.html" class="navigation-bar-link">
                <img src="./images/icons/strategyIcon.svg" alt="Strategies Icon" class="navigation-bar-link-icon">
                <span class="navigation-bar-link-text">Strategies</span>
            </a>
            <!-- Progress Link -->
            <a href="progressHome.html" class="navigation-bar-link">
                <img src="./images/icons/progressIcon.svg" alt="Progress Icon" class="navigation-bar-link-icon">
                <span class="navigation-bar-link-text">Progress</span>
            </a>
            <!-- Settings Link -->
            <a href="#" class="navigation-bar-link">
                <img src="./images/icons/settingsIcon.svg" alt="Settings Icon" class="navigation-bar-link-icon">
                <span class="navigation-bar-link-text">Settings</span>
             </a>
        </div>

    </div>


	<!-- Top bar -->
	<div class="top-bar">
        <!-- Title of current page -->
		<h1 class="page-title">Journal</h1>
        <!-- Go Back arrow -->
         <!-- Note: I can see this needed to be changed. Needs testing to ensure this method works -->
        <a href="javascript:history.back()" class="back-arrow">
            <img src="./images/backarrow.svg" alt="back arrow" class="back-arrow-icon">
            <h2 class="go-back-text">Back</h2>
        </a>

	</div>
    
	
	<!-- Main screen container -->
	<div class="main-screen-container">


		<!-- Container for the journal box-->
		<div class="content-container">


            <!-- Box that shows the whole journl and all info -->
            <div class="view-journal-box">

                <div class="download-icon" id="downloadIcon"> <img src="./images/icons/downloadIcon.svg" alt="Download"> </div>
                
                <div class="left-content-container">
                    
                    <div class="left-content-inner-container-shading"> </div>

                    <!-- What holds the top and bottom colored boxes -->
                    <div class="left-content-inner-container">
                        
                        <div class="left-content-inner-container-top">

                            <div class="left-content-inner-container-top-text">Chosen Emotion</div>

                            <div class="chosen-emotion-image-container">
                                <img src="./images/intensityBar/intensityBar3.svg" alt="selected intensity" class="selected-intensity-bar" id="selectedIntensityBar">
                                <img src="./images/emotions/testEmoji.svg" alt="selected emotion emoji" class="selected-emotion-emoji" id="selectedEmotionEmoji">
                            </div>

                            <div class="left-content-inner-container-bottom-text" id="journalEmotion">Extremely Unfairly Treated</div>

                        </div>

                        <div class="left-content-inner-container-bottom">

                            <div class="left-content-inner-container-top-text">Assigned Strategy</div>

                            <div class="strategy-image-container">
                                <img src="./images/icons/strategyIconBigShaded.svg" alt="assigned strategy" class="assigned-strategy-image">
                            </div>

                            <div class="left-content-inner-container-bottom-text" id="journalAssignedStrategy">Meditation</div>

                        </div>

                    </div>
                
                </div>

                <div class="right-content-container">

                    <div class="journal-info-container">
                        <p id="journalAuthorName">Jason</p>
                        <p id="journalNumber">Journal 40</p>
                        <p id="journalDate">4/12/23</p>
                    </div>

                    <div class="journal-prompt" id="journalPrompt">
                        Please explain why you felt this way today. 
                    </div>

                    <div class="journal-content" id="journalContent">
                        Lorem Ipsum is simply dummy text of the printing and typesetting industry. 
                        Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, 
                        when an unknown printer took a galley of type and scrambled it to make a type specimen book. 
                        It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.
                        It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, 
                        and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.
                        Lorem Ipsum is simply dummy text of the printing and typesetting industry. 
                </div>

            </div>
    

		</div>

	</div>

    <!-- Front and Middle Waves -->
	<div class="waves-container">
		<img src="./images/waveMiddle.svg" alt="Middle Wave" class="wave middle-wave">
		<img src="./images/waveFront.svg" alt="Front Wave" class="wave front-wave">
	</div>

    <script src="./scripts/journalViewJournal.js"></script>
	<script>
    /* When the DOM content is fully loaded, this script fetches user information from the server.
    It then updates the element with id 'userFirstName' to display the username.
    If there is an error during the fetch operation, it logs the error to the console. */
    document.addEventListener("DOMContentLoaded", function() {
        fetch('getUserInfo.php')
            .then(response => response.json())
            .then(data => {
                if (data.username) {
                    document.getElementById('userFirstName').textContent = data.username;
                }
            })
            .catch(error => {
                console.error('Error fetching user info:', error);
            });
    });
    </script>

	
</body>
</html>
